@model MyCBA.ViewModels.TellerViewModels
@{
    ViewBag.Title = "Assign Till Account to User";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using (Html.BeginForm())
{

    @Html.AntiForgeryToken()

    <div class="form-horizontal col-md-6">
        <span id="error" class="text-red"></span>
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @if (TempData["Message"] != null)
        {
            <div class="alert alert-danger">
                <p>@TempData["Message"] <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> </p>

            </div>

        }

        <div class="form-group">
            @Html.LabelFor(model => model.userId)
            @Html.DropDownListFor(model => model.userId, new SelectList(Model.Tellers,
            "id", "email"),"Choose an Option", new {@class = "form-control",required="required", @data_live_search = "true" })
            @Html.ValidationMessageFor(model => model.userId, "", new { @class = "text-danger" })
            <span id="usererror" class="text-red"></span>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.TillAccountId)
            @Html.DropDownListFor(model => model.TillAccountId, new SelectList(Model.TillAccounts,
             "id", "Name"), "Choose an Option",new { @class = "form-control", required = "required", @data_live_search = "true" })
            @Html.ValidationMessageFor(model => model.TillAccountId, "", new { @class = "text-danger" })
            <span id="tillAccounterror" class="text-red"></span>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="SUBMIT" class="btn btn-default" />
            </div>
        </div>
    </div>
}

@*@section ViewSpecificJavascript
    {
    <script>
    $(document).ready(function () {
            $("#two").hide();
            var selectoption = $("#mainAccountCategory").val();
            if (selectoption == 0 || selectoption == 4) {
                $("#two").show();
            }
            $("#mainAccountCategory").change(function (e) {
                var value = $(this).val();
                if (value == 0 || value == 4) {
                    $("#two").show();
                } else {
                    $("#two").hide();
                }
            });


        })*@


@section ViewSpecificJavascript
    {
    <script>
        $(document).ready(function () {
            setTimeout(function () {
                $(".alert").fadeOut(100, null);
            },
                3000);


            $("form").submit(function (e) {

                var user = $('#Teller.userId').val();
                var tillAccount = $('#Teller.TillAccountId').val();
                if (user == "" || tillAccount == "") {
                    e.preventDefault();
                    $("#error").html("All fields are required");
                }

                else {
                    $("#error").html("");
                }


            })
        })
    </script>
}